
<h1 class="sectionedit1" id="hardware">Hardware</h1>
<div class="level1">

</div>
<!-- EDIT1 SECTION "Hardware" [1-24] -->
<h2 class="sectionedit2" id="most_current_information">Most current information</h2>
<div class="level2">

<p>
You can find the most current information about the Beijing module at <br/>
<a href="http://www.grodansparadis.com/paris/paris.html" class="urlextern" title="http://www.grodansparadis.com/paris/paris.html" rel="nofollow">http://www.grodansparadis.com/paris/paris.html</a>. On the site you can also find links to the latest firmware, drivers and schematics etc for its use. 
</p>

<p>
Installing the module
</p>

<p>
Connect the module to the CAN4VSCP bus. The red LED on the module should light up indicating that the device is powered. If this is the first time you start up the module the green lamp next to the initializing button will start to blink. This means that the module is trying to negotiate a nickname address with the rest of the modules on the bus. When it found a free nickname the green LED will light steady. If the green led does not start to blink press the initialization button until it does.
</p>

<p>
Now your module is ready to use. You have to decide what power source you should use for your relays. On position 12 of the terminal block connectors you can find +5V which can be used for this purpose. If you want to use +5V install the jumper JP1. Often however however +5V is a to low voltage to control relays. You need +12V or even +24V. This is OK. With the Paris module it is possible to use up to +50V DC. Before you connect this external voltage make sure that jumper JP1 is not installed. On position 10/11 you have the supply voltage for the module available. This is +9VDC - 28VDC and can also be used as your relay voltage.
</p>

</div>
<!-- EDIT2 SECTION "Most current information" [25-1453] -->
<h2 class="sectionedit3" id="the_raw_facts">The raw facts</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Parameter </th><th class="col1"> Value </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Current hardware reversion </td><td class="col1"> B </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Current firmware version </td><td class="col1"> 1.1.2 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> Supply voltage </td><td class="col1"> +9-+28 VDC </td>
	</tr>
	<tr class="row4">
		<td class="col0"> PCB Size </td><td class="col1"> 42mm x 72mm </td>
	</tr>
	<tr class="row5">
		<td class="col0"> Power requirements </td><td class="col1"> 0.1W + relay driver power if used. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> Communication: CAN4VSCP (CAN) </td><td class="col1"> 125 kbps </td>
	</tr>
</table></div>
<!-- EDIT4 TABLE [1483-1740] -->
</div>
<!-- EDIT3 SECTION "The raw facts" [1454-1741] -->
<h2 class="sectionedit5" id="schematics">Schematics</h2>
<div class="level2">

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=paris_revb_sch.png" class="media" title="paris_revb_sch.png"><img src="/paris/manual/lib/exe/fetch.php?w=700&amp;tok=949faa&amp;media=paris_revb_sch.png" class="media" alt="" width="700" /></a>
</p>

<p>
Schematics: Rev B (click picture to enlarge) 
</p>

</div>
<!-- EDIT5 SECTION "Schematics" [1742-1842] -->
<h2 class="sectionedit6" id="components">Components</h2>
<div class="level2">

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=3_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_board.jpg" class="media" title="3_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_board.jpg"><img src="/paris/manual/lib/exe/fetch.php?w=700&amp;tok=095961&amp;media=3_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_board.jpg" class="media" alt="" width="700" /></a>
</p>

<p>
The <strong>power LED</strong> (red) will light when the board is powered.
</p>

<p>
The <strong>green LED</strong> show operational status. It blinks during initialization process and lights steady under normal operation.
</p>

<p>
Press the <strong>init. button</strong> to initiate the  node id discovery process. The green led will start to blink and do so until a new nickname id is found. If the LED never stops blinking that is an indication of some bus fault of some kind. Typically the module does not get an answer from another module on the bus.
</p>

<p>
The <strong>daisy chain</strong> connector is described below.
</p>

<p>
The Termination jumper activates a 120 ohm termination resistor between CANH and CANL if present. This is convenient if the module is the first or last module on a bus.
</p>

<p>
The firmware of a circuit equipped with a Microchip microprocessor usually can be programmed in circuit. That is when it is mounted on a printed circuit board. This is also true for the Paris relay module which have the programming connector on-board (J3). The <strong>programming connector</strong> is used to reprogram the module. This is more convenient to do using the bootloader software but in debugging or if the bootloader has gotten corrupt connecting a standard Microchip PIC programmer to this connector is the only way to reprogram the module. If you have a programmer for Microchip processors (Real ICE, ICD-2, ICD-3, PICKIT-2, PICKIT3 or other) you can program your own firmware or the latest official firmware into the module using MPLABX or similar tools. You can always find a link to the latest firmware on the <a href="http://www.grodansparadis.com/paris/paris.html" class="urlextern" title="http://www.grodansparadis.com/paris/paris.html" rel="nofollow">Paris relay module home page</a>.
</p>

<p>
<strong>JP1 connector</strong> This connector can be <em class="u">dangerous</em> so before you put it in make sure that you know what you do. It connects the module VCC to the relay driver voltage. So if it is shorted you must make sure that there is no other voltage applied to the relay voltage input.If it is the board will probably burn. It is however very convenient if you want to drive something with VCC (= +5V).
</p>

<p>
<br/>

</p>

</div>
<!-- EDIT6 SECTION "Components" [1843-3978] -->
<h2 class="sectionedit7" id="connectors">Connectors</h2>
<div class="level2">

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=paris_connectors_800.png" class="media" title="paris_connectors_800.png"><img src="/paris/manual/lib/exe/fetch.php?w=700&amp;tok=757a24&amp;media=paris_connectors_800.png" class="media" alt="" width="700" /></a>
</p>

<p>
To activate ther<strong>termination</strong> solder a cable between holes. This will activate the 120 ohm resistor between CANH and CANL.
</p>

</div>
<!-- EDIT7 SECTION "Connectors" [3979-4165] -->
<h3 class="sectionedit8" id="terminal_block">Terminal block</h3>
<div class="level3">

<p>
The individual positions for the twelve position termination block is numbered
from the left (looking into it) as in the figure below.
Ground, +5V and the power for the module is available from the board
and the seven relay control positions. If you plan to use relays that can be
controlled with +5V just install jumper JP1 and connect +5V to the relays.
Normally however you need to have a higher voltage such as +12V or +24V
to control the the relays. In this case the JP1 jumper should be uninstalled.
Connect the relay voltage (which can be taken from position 10/11 if a suitable
voltage is used to power the module) to your relay and to position 2 of the
termination block. By doing this you activate the fly-back protection diodes which protects the circuits from inductive loads. If you just have an resistive
load you don&#039;t have to do this connection but there is no harm if you use it
anyway.
</p>

<p>
The power used to power the Paris module is a perfect candidate for the
relay voltage. It is available on the terminal block position 10/11.
</p>

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=8_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_connector.jpg" class="media" title="8_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_connector.jpg"><img src="/paris/manual/lib/exe/fetch.php?media=8_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_connector.jpg" class="media" title="8_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_connector.jpg" alt="8_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_connector.jpg" /></a>
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Pin </th><th class="col1"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1"> Ground (GND) </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2 </td><td class="col1"> Relay Power. Connect relay driver voltage here if NOT using VCC. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3 </td><td class="col1"> Relay 1 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4 </td><td class="col1"> Relay 2 </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 5 </td><td class="col1"> Relay 3 </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 6 </td><td class="col1"> Relay 4 </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 7 </td><td class="col1"> Relay 5 </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 8 </td><td class="col1"> Relay 6 </td>
	</tr>
	<tr class="row9">
		<td class="col0"> 9 </td><td class="col1"> Relay 7 </td>
	</tr>
	<tr class="row10">
		<td class="col0"> 10 </td><td class="col1"> Module input voltage +9V-28V </td>
	</tr>
	<tr class="row11">
		<td class="col0"> 11 </td><td class="col1"> Module input voltage +9V-28V </td>
	</tr>
	<tr class="row12">
		<td class="col0"> 12 </td><td class="col1"> +5V (Module VCC) </td>
	</tr>
</table></div>
<!-- EDIT9 TABLE [5326-5668] -->
<p>
<img src="/paris/manual/lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> <strong>Important!</strong>
</p>

<p>
<strong>Never connect a voltage source to position2 if jumper JP1 is installed on the board.</strong>
</p>

</div>
<!-- EDIT8 SECTION "Terminal block" [4166-5780] -->
<h3 class="sectionedit10" id="connecting_relays">Connecting relays</h3>
<div class="level3">

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=9_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_relay.jpg" class="media" title="9_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_relay.jpg"><img src="/paris/manual/lib/exe/fetch.php?w=700&amp;tok=72a894&amp;media=9_home_akhe_vscp_hardware_can4vscp_paris_relaydriver_manual_images_relay.jpg" class="media" alt="" width="700" /></a>
</p>

</div>
<!-- EDIT10 SECTION "Connecting relays" [5781-5898] -->
<h3 class="sectionedit11" id="rj-xx_pin-out">RJ-XX pin-out</h3>
<div class="level3">

<p>
The unit is powered over the CAN4VSCP bus. The CAN4VSCP normally uses CAT5 or better twisted pair cable. You can use other cables if you which. The important thing is that the CANH and CANL signals uses a twisted cable. For connectors you can use RJ10, RJ11, RJ12 or the most common RJ45 connectors.
</p>

<p>
Recommended connector is RJ-34/RJ-12 or RJ-11 with pin out as in this table.
</p>
<div class="table sectionedit12"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Pin </th><th class="col1"> Use </th><th class="col2"> RJ-11 </th><th class="col3"> RJ-12 </th><th class="col4"> RJ-45 </th><th class="col5"> Patch Cable wire color T568B </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1 leftalign"> +9-28V DC	</td><td class="col2"> </td><td class="col3"> </td><td class="col4"> RJ-45 </td><td class="col5"> Orange/White </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2 1 </td><td class="col1"> +9-28V DC </td><td class="col2"> </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Orange </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> 3 2 1	</td><td class="col1"> +9-28V DC </td><td class="col2"> RJ-11 </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Green/White </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> 4 3 2	</td><td class="col1"> CANH </td><td class="col2"> RJ-11 </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Blue </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> 5 4 3	</td><td class="col1"> CANL </td><td class="col2"> RJ-11 </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Blue/White </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> 6 5 4	</td><td class="col1"> GND </td><td class="col2"> RJ-11 </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Green </td>
	</tr>
	<tr class="row7">
		<td class="col0"> 7 6 </td><td class="col1"> GND </td><td class="col2"> </td><td class="col3"> RJ-12 </td><td class="col4"> RJ-45 </td><td class="col5"> Brown/White </td>
	</tr>
	<tr class="row8">
		<td class="col0"> 8 </td><td class="col1"> GND </td><td class="col2 leftalign">  </td><td class="col3 leftalign">  </td><td class="col4"> RJ-45 </td><td class="col5"> Brown </td>
	</tr>
</table></div>
<!-- EDIT12 TABLE [6303-6753] -->
<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=rj45.jpg" class="media" title="rj45.jpg"><img src="/paris/manual/lib/exe/fetch.php?w=300&amp;tok=c581d4&amp;media=rj45.jpg" class="mediacenter" title="RJ-11/12/45 pin-out" alt="RJ-11/12/45 pin-out" width="300" /></a>
<strong>RJ-11/12/45 pin-out</strong>
</p>

<p>
<img src="/paris/manual/lib/images/smileys/icon_exclaim.gif" class="icon" alt=":!:" /> Always use a pair of twisted wires for CANH/CANL for best noise immunity. If the EIA/<abbr title="Thanks in advance">TIA</abbr> 56B standard is used this condition will be satisfied. This is good as most Ethernet networks already is wired this way. 
</p>

</div>
<!-- EDIT11 SECTION "RJ-XX pin-out" [5899-7037] -->
<h3 class="sectionedit13" id="inter_module_connector">Inter module connector</h3>
<div class="level3">

<p>
The inter module connector can be used to connect modules that are physically close to each other together in an easy way. Remember that the minimum length of a connection cable is 30 cm.
</p>

<p>
The <strong>daisy chain connector</strong> is an alternative to the RJ-45 connector and can be a very convenient way to connect boards together that are mounter close to each other, in the same cabinet for example. Our <a href="http://www.grodansparadis.com/pwrinjectcan/pwrinjectcan.html" class="urlextern" title="http://www.grodansparadis.com/pwrinjectcan/pwrinjectcan.html" rel="nofollow">power injector board</a> is a perfect companion for this use.
</p>
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Pin </th><th class="col1">Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1"> Power from CAN4VSCP bus (+9V-24V)</td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2 </td><td class="col1"> CANH </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3 </td><td class="col1"> CANL </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4 </td><td class="col1"> GND </td>
	</tr>
</table></div>
<!-- EDIT14 TABLE [7591-7690] -->
<p>
<br/>

</p>

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=odessa_inter_module_connector.png" class="media" title="odessa_inter_module_connector.png"><img src="/paris/manual/lib/exe/fetch.php?w=600&amp;tok=411fde&amp;media=odessa_inter_module_connector.png" class="mediacenter" alt="" width="600" /></a>
</p>

</div>
<!-- EDIT13 SECTION "Inter module connector" [7038-7745] -->
<h3 class="sectionedit15" id="pic_programming_connector">PIC programming Connector</h3>
<div class="level3">
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> pin  </th><th class="col1 leftalign"> Description  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> 1 </td><td class="col1"> Reset </td>
	</tr>
	<tr class="row2">
		<td class="col0"> 2 </td><td class="col1"> VCC </td>
	</tr>
	<tr class="row3">
		<td class="col0"> 3 </td><td class="col1"> GND </td>
	</tr>
	<tr class="row4">
		<td class="col0"> 4 </td><td class="col1"> PGD (RX of second serial port is here to) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> 5 </td><td class="col1"> PGC (TX of second serial port is here to) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> 6 </td><td class="col1"> LWPGM </td>
	</tr>
</table></div>
<!-- EDIT16 TABLE [7783-7958] -->
<p>
<br/>

</p>

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=odessa_programming_connector.png" class="media wikilink2" title="odessa_programming_connector.png"><img src="/paris/manual/lib/exe/fetch.php?w=700&amp;tok=4161ad&amp;media=odessa_programming_connector.png" class="media" alt="" width="700" /></a>
</p>

</div>
<!-- EDIT15 SECTION "PIC programming Connector" [7746-8010] -->
<h3 class="sectionedit17" id="functionality_of_the_status_led">Functionality of the status LED</h3>
<div class="level3">

<p>
The LED is used to indicate the status of the module. It will light steady when the firmware is running and will blink when the module is in the nickname discovery process.
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> LED </th><th class="col1"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> Steady </td><td class="col1"> No error. Firmware running. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> Blinking </td><td class="col1"> Module is going through the <a href="http://www.vscp.org/docs/vscpspec/doku.php?id=vscp_level_i_specifics#address_or_nickname_assignment_for_level_i_nodes" class="urlextern" title="http://www.vscp.org/docs/vscpspec/doku.php?id=vscp_level_i_specifics#address_or_nickname_assignment_for_level_i_nodes" rel="nofollow">nickname discovery process</a>. </td>
	</tr>
</table></div>
<!-- EDIT18 TABLE [8228-8483] -->
</div>
<!-- EDIT17 SECTION "Functionality of the status LED" [8011-8486] -->
<h3 class="sectionedit19" id="can">CAN</h3>
<div class="level3">

<p>
CAN4VSCP is a CAN based bus running at 125 kbps with the addition of DC power. If you are interested in how CAN works you have a pretty good intro <a href="http://www.eeherald.com/section/design-guide/esmod9.html" class="urlextern" title="http://www.eeherald.com/section/design-guide/esmod9.html" rel="nofollow">here</a>.
</p>

<p>
CAN is known to be robust and is there for used in vehicles and in the industry.
</p>

<p>
<br/>

</p>
<hr />

<p>
<a href="/paris/manual/lib/exe/detail.php?id=hardware&amp;media=grodan_logo.png" class="media" title="grodan_logo.png"><img src="/paris/manual/lib/exe/fetch.php?w=100&amp;tok=9032da&amp;media=grodan_logo.png" class="mediacenter" alt="" width="100" /></a>

<center>
<b>Paradise of the Frog AB</b> Brattbergavägen 17, 820 50 LOS, SWEDEN<br />
<b>email:</b> <a href="info@grodansparadis.com">info@paradiseofthefrog.com</a> <b>phone:</b> +46 (0)8 40011835<br />
<b>web:</b> <a href="http://www.grodansparadis.com">http://www.paradiseofthefrog.com</a><br>
</center>

</p>

</div>
<!-- EDIT19 SECTION "CAN" [8487-] -->